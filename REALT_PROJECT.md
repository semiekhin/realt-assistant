# Realt Assistant ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –ß—Ç–æ —ç—Ç–æ

**Realt Assistant** ‚Äî Telegram-–±–æ—Ç –¥–ª—è —Ä–∏—ç–ª—Ç–æ—Ä–æ–≤. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –ñ–ö.

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**: –†–∏—ç–ª—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –ñ–ö (–ø—Ä–∞–π—Å—ã, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏) ‚Üí –±–æ—Ç –ø–∞—Ä—Å–∏—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç ‚Üí —Ä–∏—ç–ª—Ç–æ—Ä –±—ã—Å—Ç—Ä–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º, –∏—â–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ö–ü.

**–î–ª—è –∫–æ–≥–æ**: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ä–∏—ç–ª—Ç–æ—Ä—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ "–Ω–∞ —Ö–æ–¥—É" —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞–º–∏.

---

## üìç –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| –°–µ—Ä–≤–µ—Ä | `72.56.64.91:2222` (SSH) |
| –ü—É—Ç—å | `/opt/realt-assistant` |
| Telegram –±–æ—Ç | `@RealtAssistentAI_bot` |
| GitHub | https://github.com/semiekhin/realt-assistant |
| Python | 3.12+ |
| –ë–∞–∑–∞ | SQLite (`data/assistant.db`) |

**–î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ù–ï –¢–†–û–ì–ê–¢–¨)**:
- `/opt/bot` ‚Äî RIZALTA PROD (–ø–æ—Ä—Ç 8000)
- `/opt/bot-dev` ‚Äî RIZALTA DEV (–ø–æ—Ä—Ç 8002)
- `/opt/sofia-claude`, `/opt/sofia-gpt`

---

## üöÄ –ó–∞–ø—É—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å–∫
cd /opt/realt-assistant
/opt/realt-assistant/venv/bin/python -u run_polling.py > bot.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
ps aux | grep "realt-assistant" | grep -v grep

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pkill -f "realt-assistant.*run_polling"

# –õ–æ–≥–∏
tail -f /opt/realt-assistant/bot.log

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
find /opt/realt-assistant -name "__pycache__" -exec rm -rf {} + 2>/dev/null
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
/opt/realt-assistant/
‚îú‚îÄ‚îÄ app.py                     # FastAPI webhook + —Ä–æ—É—Ç–∏–Ω–≥
‚îú‚îÄ‚îÄ run_polling.py             # –ó–∞–ø—É—Å–∫ –≤ polling —Ä–µ–∂–∏–º–µ
‚îú‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env                       # –°–µ–∫—Ä–µ—Ç—ã (–Ω–µ –≤ git)
‚îÇ
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ states.py              # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ handlers/
‚îÇ       ‚îú‚îÄ‚îÄ start.py           # /start, –º–µ–Ω—é
‚îÇ       ‚îú‚îÄ‚îÄ add_property.py    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ñ–ö
‚îÇ       ‚îú‚îÄ‚îÄ query.py           # –ü–æ–∏—Å–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä –ñ–ö
‚îÇ       ‚îú‚îÄ‚îÄ kp.py              # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ü —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç–∏–ª—è
‚îÇ       ‚îî‚îÄ‚îÄ calculators.py     # –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã —Ä–∞—Å—Å—Ä–æ—á–∫–∏/–∏–ø–æ—Ç–µ–∫–∏/ROI
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ telegram.py            # Telegram API
‚îÇ   ‚îú‚îÄ‚îÄ llm.py                 # OpenAI API + –ø—Ä–æ–º–ø—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ parser.py              # –°—Ç–∞—Ä—ã–π –ø–∞—Ä—Å–µ—Ä (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ parser_v2.py           # Vision-first –ø–∞—Ä—Å–µ—Ä (PDF ‚Üí –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Üí GPT-4o)
‚îÇ   ‚îú‚îÄ‚îÄ calculators.py         # –†–∞—Å—á—ë—Ç—ã —Ä–∞—Å—Å—Ä–æ—á–∫–∏/–∏–ø–æ—Ç–µ–∫–∏/ROI
‚îÇ   ‚îú‚îÄ‚îÄ content_composer.py    # AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ kp_generator_v2.py     # PDF —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç–∏–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ pdf_styles.py          # 6 —Å—Ç–∏–ª–µ–π –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ style_advisor.py       # AI-–≤—ã–±–æ—Ä —Å—Ç–∏–ª—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
‚îÇ   ‚îî‚îÄ‚îÄ fonts/                 # DejaVuSans –¥–ª—è PDF
‚îÇ
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ database.py            # SQLite –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ models.py              # Dataclass –º–æ–¥–µ–ª–∏ + to_summary/to_full_info
‚îÇ
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ assistant.db           # SQLite –±–∞–∑–∞
    ‚îú‚îÄ‚îÄ uploads/               # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    ‚îî‚îÄ‚îÄ kp_output/             # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ PDF
```

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (v0.4)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ñ–ö
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ñ–ö —Å –∞–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥–æ–º —Ñ–∞–π–ª–æ–≤
- **Vision-first –ø–∞—Ä—Å–∏–Ω–≥** ‚Äî PDF –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ GPT-4o
- –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∏—ç–ª—Ç–æ—Ä–æ–º
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –ñ–ö
- –ö–∞—Ä—Ç–æ—á–∫–∞ –ñ–ö —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- –£–¥–∞–ª–µ–Ω–∏–µ –ñ–ö

### –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤ (parser_v2.py)
- **PDF ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü ‚Üí Vision API** (–≤–∏–¥–∏–º —Ç–∞–±–ª–∏—Ü—ã, –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏!)
- Excel (pandas)
- DOCX (python-docx + —Ç–∞–±–ª–∏—Ü—ã)
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (GPT-4o Vision)
- LLM –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∑–∞–ø—Ä–µ—Ç–æ–º –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ü
- Content Composer ‚Äî AI —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–¥–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
- 6 —Å—Ç–∏–ª–µ–π: premium, business, corporate, modern, minimal, warm
- –í—ã–±–æ—Ä —Å—Ç–∏–ª—è –∫–Ω–æ–ø–∫–∞–º–∏
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π ColorBlock (–∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä —à—Ä–∏—Ñ—Ç–∞)

### –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã
- **–†–∞—Å—Å—Ä–æ—á–∫–∞** ‚Äî —Ä–∞—Å—á—ë—Ç –µ–∂–µ–º–µ—Å—è—á–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
- **–ò–ø–æ—Ç–µ–∫–∞** ‚Äî 4 –ø—Ä–æ–≥—Ä–∞–º–º—ã (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, —Å–µ–º–µ–π–Ω–∞—è, IT, –≥–æ—Å–ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- **ROI** ‚Äî –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π

### –ü–æ–∏—Å–∫
- –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ñ–ö: "—á—Ç–æ –µ—Å—Ç—å –¥–æ 15 –º–ª–Ω?"
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ –≤—Å–µ–π –±–∞–∑–µ

---

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```sql
-- users
id, telegram_id, username, first_name, last_name, state, state_data, created_at

-- properties  
id, user_id, name, address, city, developer, completion_date,
price_min, price_max, price_per_sqm_min, price_per_sqm_max,
apartment_types, area_min, area_max,
payment_options, installment_terms, mortgage_info,
-- —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞—Å—Å—Ä–æ—á–∫–∞ (v0.3.0)
installment_min_pv, installment_max_months, installment_markup,
-- –ª–æ–∫–∞—Ü–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ (v0.4.0)
distance_to_sea, territory_area, hotel_operator,
commission, description, features, raw_data, 
created_at, updated_at

-- property_files
id, property_id, user_id, file_id, file_name, file_type, file_path, extracted_text, created_at
```

---

## üé® –°—Ç–∏–ª–∏ PDF

| –°—Ç–∏–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-------|----------|-------------------|
| premium | –¢—ë–º–Ω—ã–π, –∑–æ–ª–æ—Ç—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã | –≠–ª–∏—Ç–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å |
| business | –°—Ç—Ä–æ–≥–∏–π, –∑–µ–ª—ë–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã | –î–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤ |
| corporate | –°–¥–µ—Ä–∂–∞–Ω–Ω—ã–π —Å–∏–Ω–∏–π | –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π |
| modern | –Ø—Ä–∫–∏–π, –æ—Ä–∞–Ω–∂–µ–≤—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π |
| minimal | –ß—ë—Ä–Ω–æ-–±–µ–ª—ã–π | –ú–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ |
| warm | –¢—ë–ø–ª—ã–µ —Ç–æ–Ω–∞ | –î–ª—è —Å–µ–º–µ–π |

---

## üìã –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### v0.4.0 (07.01.2026 –≤–µ—á–µ—Ä)
- **Vision-first –ø–∞—Ä—Å–µ—Ä** ‚Äî PDF –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ GPT-4o
- –ó–∞–ø—Ä–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π –≤ –ø—Ä–æ–º–ø—Ç–µ LLM
- –°–±–æ—Ä –í–°–ï–• —Ü–µ–Ω (min/max) –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ù–æ–≤—ã–µ –ø–æ–ª—è: distance_to_sea, territory_area, hotel_operator
- –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ñ–ö (to_full_info) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### v0.3.0 (07.01.2026)
- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã: —Ä–∞—Å—Å—Ä–æ—á–∫–∞, –∏–ø–æ—Ç–µ–∫–∞ (4 –ø—Ä–æ–≥—Ä–∞–º–º—ã), ROI
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è —Ä–∞—Å—Å—Ä–æ—á–∫–∏ –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
- –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

### v0.2.0 (07.01.2026)
- Content Composer ‚Äî AI —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–¥–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
- 6 —Å—Ç–∏–ª–µ–π PDF —Å –≤—ã–±–æ—Ä–æ–º –∫–Ω–æ–ø–∫–∞–º–∏
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π ColorBlock
- GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### v0.1.0 (05.01.2026)
- –ë–∞–∑–æ–≤—ã–π –±–æ—Ç —Å FSM
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–ø—Ä–æ—Å–º–æ—Ç—Ä –ñ–ö
- –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ—Å—Ç–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ü
