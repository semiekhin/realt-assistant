# Realt Assistant ‚Äî –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏

## üéØ –ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YGroup API + –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–°—Ç–∞—Ç—É—Å:** –ü—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ  
**–í–µ—Ä—Å–∏—è:** v0.5.1

### –ù–æ–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

–í–º–µ—Å—Ç–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ PDF/Excel ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ YGroup API.
–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥: SQL –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ü–µ–Ω—ã, –ø–ª–æ—â–∞–¥–∏) + RAG –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö (–æ–ø–∏—Å–∞–Ω–∏—è, –£–¢–ü).

### –≠—Ç–∞–ø—ã

- [x] **–≠—Ç–∞–ø 1: RAG —è–¥—Ä–æ** ‚Äî ChromaDB, chunking, embeddings, –ø–æ–∏—Å–∫ ‚úÖ
- [x] **–≠—Ç–∞–ø 2: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π handler** ‚Äî —É–±–∏—Ä–∞–µ–º FSM, –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí RAG ‚Üí LLM ‚úÖ
- [x] **–≠—Ç–∞–ø 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚Äî LLM ‚Üí HTML ‚Üí PDF (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ) ‚úÖ
- [x] **–≠—Ç–∞–ø 4: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ LLM** ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ ‚úÖ
- [ ] **–≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YGroup API** ‚Äî –ù–û–í–´–ô –ü–†–ò–û–†–ò–¢–ï–¢
- [ ] **–≠—Ç–∞–ø 6: –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî SQL + RAG
- [ ] **–≠—Ç–∞–ø 7: –ü–æ–º–æ—â–Ω–∏–∫ –ø–µ—Ä–µ–ø–∏—Å–∫–∏** ‚Äî –∞–Ω–∞–ª–∏–∑ –¥–∏–∞–ª–æ–≥–æ–≤ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏

---

## üìÖ –°–µ—Å—Å–∏—è 08.01.2026 (–ø–æ–∑–¥–Ω–∏–π –≤–µ—á–µ—Ä) ‚Äî –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

**–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
* RAG —Å limit=50 ‚Äî —Ç–æ—á–µ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
* –ü—Ä–∏ 1000+ —á–∞–Ω–∫–æ–≤ –±—É–¥–µ–º —Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ
* –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ü–µ–Ω—ã, –ø–ª–æ—â–∞–¥–∏)

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ YGroup API:**
* –ù–∞—à–ª–∏ API: `api-ru.ygroup.ru/v2/`
* –°—Ç—Ä—É–∫—Ç—É—Ä–∞: facilities ‚Üí clusters ‚Üí lots
* –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã: —Ü–µ–Ω—ã, –ø–ª–æ—â–∞–¥–∏, —ç—Ç–∞–∂–∏, –∫–æ–º–∏—Å—Å–∏—è
* 698 –ñ–ö –≤ –±–∞–∑–µ —Ç–æ–ª—å–∫–æ –ø–æ –°–æ—á–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ API YGroup:**
```
GET /v2/facilities ‚Äî —Å–ø–∏—Å–æ–∫ –ñ–ö
GET /v2/clusters?facility_id={id} ‚Äî –∫–æ—Ä–ø—É—Å–∞/–ø–æ–¥—ä–µ–∑–¥—ã
GET /v2/lots?cluster_id={id} ‚Äî –∫–≤–∞—Ä—Ç–∏—Ä—ã
```

**–î–∞–Ω–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã (lots):**
- name: "‚Ññ 207"
- total_price: 9731400
- price_per_m2: 420000
- area_m2: 23.17
- layout_type: 2 (–∫–æ–º–Ω–∞—Ç–Ω–æ—Å—Ç—å)
- position.vertical_position: 11 (—ç—Ç–∞–∂)
- layout_images: URL –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏

**–ü—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:**
* –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ YGroup API –≤–º–µ—Å—Ç–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ PDF
* –¢–∞–±–ª–∏—Ü–∞ `units` –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä (SQL –∑–∞–ø—Ä–æ—Å—ã)
* –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –æ—Ç —Ä–∏—ç–ª—Ç–æ—Ä–∞ (–£–¢–ü, —Ä–∞—Å—Å—Ä–æ—á–∫–∞, –∫–æ–º–∏—Å—Å–∏—è)
* –ì–∏–±—Ä–∏–¥: SQL –¥–ª—è —Ç–æ—á–Ω—ã—Ö + RAG –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### üü¢ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

* **–í–µ—Ä—Å–∏—è:** v0.5.1
* **–ö–æ–¥:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ GitHub
* **–ë–æ—Ç:** –†–∞–±–æ—Ç–∞–µ—Ç (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π handler + RAG)
* **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ YGroup API

### üîú –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏

**–≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YGroup API**
1. –°–µ—Ä–≤–∏—Å `services/ygroup.py` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å API
2. –¢–∞–±–ª–∏—Ü–∞ `units` –≤ –ë–î
3. –ù–æ–≤—ã–π —Ñ–ª–æ—É /add:
   - –í–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è ‚Üí –ø–æ–∏—Å–∫ –≤ YGroup ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
   - –ó–∞–≥—Ä—É–∑–∫–∞ facilities + clusters + lots
   - –ó–∞–ø—Ä–æ—Å –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–£–¢–ü, —Ä–∞—Å—Å—Ä–æ—á–∫–∞)
4. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞–≥—Ä—É–∑–∏–ª–∏, —Ä–∞–±–æ—Ç–∞–µ–º —Å –ë–î

**–≠—Ç–∞–ø 6: –ì–∏–±—Ä–∏–¥–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤**
1. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ü–µ–Ω–∞/–ø–ª–æ—â–∞–¥—å ‚Üí SQL, –æ–ø–∏—Å–∞–Ω–∏–µ ‚Üí RAG)
2. SQL –∑–∞–ø—Ä–æ—Å—ã –∫ —Ç–∞–±–ª–∏—Ü–µ units
3. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (SQL + RAG)

### üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ |

---

## üìÖ –°–µ—Å—Å–∏—è 08.01.2026 (–≤–µ—á–µ—Ä) ‚Äî –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π handler + HTML‚ÜíPDF

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

**–≠—Ç–∞–ø 2: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π handler (v0.5.0)**
* **–¢–∞–±–ª–∏—Ü–∞ chat_history** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –≤ SQLite
* **–§—É–Ω–∫—Ü–∏–∏ –ë–î:** save_message(), get_chat_history(), clear_chat_history()
* **UNIVERSAL_PROMPT** ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª—é–±—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –¥–µ—Ç–µ–∫—Ü–∏–µ–π –¥–µ–π—Å—Ç–≤–∏–π
* **universal_respond()** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏
* **parse_llm_response()** ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ—Ç JSON –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ —Ç–µ–∫—Å—Ç
* **handle_universal()** ‚Äî –∑–∞–º–µ–Ω–∏–ª FSM –¥–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∫—Ä–æ–º–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
* **execute_action()** ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è (–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã, –ö–ü)

**–≠—Ç–∞–ø 3: LLM ‚Üí HTML ‚Üí PDF (v0.5.1)**
* **services/html_to_pdf.py** ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä —á–µ—Ä–µ–∑ wkhtmltopdf
* **GENERATE_HTML_PROMPT** ‚Äî LLM —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–¥–∞—é—â–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
* **generate_html_document()** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –∏–∑ –¥–∞–Ω–Ω—ã—Ö –ñ–ö
* **generate_kp_universal()** ‚Äî –∞–≤—Ç–æ–≤—ã–±–æ—Ä –ñ–ö –ø–æ –∏–º–µ–Ω–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
* **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω** ‚Äî –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, —Ç–µ–Ω–∏, —Ç–∞–±–ª–∏—Ü—ã —Ü–µ–Ω

**–£–ª—É—á—à–µ–Ω–∏—è RAG –ø–æ–∏—Å–∫–∞**
* **enrich_query_for_rag()** ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä
* **extract_price_range()** ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
* **limit=50** ‚Äî —É–≤–µ–ª–∏—á–µ–Ω –ª–∏–º–∏—Ç —á–∞–Ω–∫–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
* **gpt-4o** ‚Äî —Å–º–µ–Ω–∏–ª–∏ –º–æ–¥–µ–ª—å –¥–ª—è —Ç–æ—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —á–∏—Å–ª–∞–º–∏
* **–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç** ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –í–°–ï–• –∫–≤–∞—Ä—Ç–∏—Ä –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ

---

## üìÖ –°–µ—Å—Å–∏—è 08.01.2026 (–Ω–æ—á—å) ‚Äî RAG-—è–¥—Ä–æ –≥–æ—Ç–æ–≤–æ

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

* **ChromaDB —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
* **services/rag.py** ‚Äî –ø–æ–ª–Ω—ã–π RAG engine
* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ add_property.py** ‚Äî –∞–≤—Ç–æ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤
* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ query.py** ‚Äî –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ RAG —Å fallback
* **–†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è** ‚Äî 33 —Ñ–∞–π–ª–∞ ‚Üí ~170 —á–∞–Ω–∫–æ–≤ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã

---

## üìÖ –°–µ—Å—Å–∏—è 08.01.2026 (–¥–µ–Ω—å) ‚Äî –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ RAG-—è–¥—Ä–∞

* –ê—É–¥–∏—Ç –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –ñ–ö
* –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –¢–ó –Ω–∞ RAG-—è–¥—Ä–æ

---

## üìÖ –°–µ—Å—Å–∏—è 07.01.2026 ‚Äî Vision-first –ø–∞—Ä—Å–µ—Ä + –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã

* Vision-first –ø–∞—Ä—Å–µ—Ä (v0.4.0)
* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã: —Ä–∞—Å—Å—Ä–æ—á–∫–∞, –∏–ø–æ—Ç–µ–∫–∞, ROI
* Content Composer + 6 —Å—Ç–∏–ª–µ–π PDF
* GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
