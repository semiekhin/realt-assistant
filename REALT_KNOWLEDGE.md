# Realt Assistant ‚Äî –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

## üîë –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–Ω–∞–Ω–∏—è

### 1. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ python
```bash
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî venv –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ
nohup python run_polling.py &

# –ü–†–ê–í–ò–õ–¨–ù–û ‚Äî –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—É
cd /opt/realt-assistant
/opt/realt-assistant/venv/bin/python -u run_polling.py > bot.log 2>&1 &
```

### 2. –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî –ù–ï –¢–†–û–ì–ê–¢–¨
- /opt/bot ‚Äî RIZALTA PROD (–ø–æ—Ä—Ç 8000)
- /opt/bot-dev ‚Äî RIZALTA DEV (–ø–æ—Ä—Ç 8002)
- /opt/sofia-claude, /opt/sofia-gpt

–ü—Ä–∏ pkill –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å:
```bash
pkill -f "realt-assistant.*run_polling"
```

### 3. RAG-—è–¥—Ä–æ (v0.4.2)
- ChromaDB –≤ `/opt/realt-assistant/data/chroma/`
- –≠–º–±–µ–¥–¥–∏–Ω–≥–∏: OpenAI text-embedding-3-small
- –ß–∞–Ω–∫–∏: 800 —Å–∏–º–≤–æ–ª–æ–≤, overlap 100
- –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º: `user_{telegram_id}`

### 4. Vision-first –ø–∞—Ä—Å–∏–Ω–≥
PDF —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ JPEG —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ GPT-4o Vision. –í–∏–¥–∏–º –ø—Ä–∞–π—Å—ã, –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏, —Ç–∞–±–ª–∏—Ü—ã.

### 5. –ó–∞–ø—Ä–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π –≤ –ø—Ä–æ–º–ø—Ç–µ
–í –ø—Ä–æ–º–ø—Ç–µ LLM: "–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç ‚Äî —Å—Ç–∞–≤—å null. –ó–ê–ü–†–ï–©–ï–ù–û –≤—ã–¥—É–º—ã–≤–∞—Ç—å."

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### RAG –≤–º–µ—Å—Ç–æ –∂—ë—Å—Ç–∫–∏—Ö —Ç–∞–±–ª–∏—Ü (08.01.2026)
**–ë—ã–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ:** —Ç–∞–±–ª–∏—Ü–∞ `units` –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä
**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–∞–∑ –≤ –ø–æ–ª—å–∑—É RAG

**–ü–æ—á–µ–º—É:**
- –ñ—ë—Å—Ç–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã = —à–∞–±–ª–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö = –Ω–æ–≤—ã–π –∫–æ–¥
- RAG: –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí LLM –ø–æ–Ω–∏–º–∞–µ—Ç –í–°–Å

### –ù–∏–∫–∞–∫–∏—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤ –∏ –∏–Ω—Ç–µ–Ω—Ç–æ–≤
**–ë—ã–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ:** Router LLM —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–Ω—Ç–µ–Ω—Ç–∞–º–∏
**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–∞–∑ ‚Äî LLM —Å–∞–º —Ä–∞–∑–±–µ—Ä—ë—Ç—Å—è —á—Ç–æ –¥–µ–ª–∞—Ç—å

### –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
**–ë—ã–ª–æ:** 6 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π PDF
**–°—Ç–∞–Ω–µ—Ç:** LLM ‚Üí HTML ‚Üí PDF

---

## üõ† –ß–∞—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
cd /opt/realt-assistant
/opt/realt-assistant/venv/bin/python -u run_polling.py > bot.log 2>&1 &
pkill -f "realt-assistant.*run_polling"
ps aux | grep "realt-assistant" | grep -v grep
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
```bash
pkill -f "realt-assistant.*run_polling" && sleep 1 && cd /opt/realt-assistant && /opt/realt-assistant/venv/bin/python -u run_polling.py > bot.log 2>&1 & sleep 2 && tail -5 bot.log
```

### –õ–æ–≥–∏
```bash
tail -f /opt/realt-assistant/bot.log
tail -50 /opt/realt-assistant/bot.log
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
sqlite3 /opt/realt-assistant/data/assistant.db "SELECT id, name, price_min, price_max FROM properties;"
```

### RAG —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
/opt/realt-assistant/venv/bin/python -c "
import sys; sys.path.insert(0, '/opt/realt-assistant')
from services.rag import get_stats
print(get_stats(512319063))
"
```

### Git
```bash
cd /opt/realt-assistant
git add -A && git status
git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ"
git push
```

---

## üêõ –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### RAG –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ
**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞—Ä—ã–µ –ñ–ö –Ω–µ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã
**–†–µ—à–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ `/tmp/reindex_rag.py`

### –ì–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ ‚Äî –±–æ—Ç –≤—ã–¥—É–º—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–º–ø—Ç –Ω–µ –∑–∞–ø—Ä–µ—â–∞–ª –≤—ã–¥—É–º—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–º–ø—Ç —è–≤–Ω—ã–π –∑–∞–ø—Ä–µ—Ç –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å—Ç–∞–≤–∏—Ç—å null

### –¶–µ–Ω—ã 33.7-33.7 –≤–º–µ—Å—Ç–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
**–ü—Ä–∏—á–∏–Ω–∞:** PDF –ø–∞—Ä—Å–∏–ª—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Ç–µ—Ä—è–ª–∏—Å—å
**–†–µ—à–µ–Ω–∏–µ:** Vision-first –ø–∞—Ä—Å–µ—Ä (parser_v2.py)

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### SQLite (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- users, properties, property_files

### ChromaDB (–∑–Ω–∞–Ω–∏—è)
- –ö–æ–ª–ª–µ–∫—Ü–∏—è: `user_{telegram_id}`
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: property_id, property_name, file_name, chunk_index
- ~170 —á–∞–Ω–∫–æ–≤ –¥–ª—è user_512319063

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- GitHub: https://github.com/semiekhin/realt-assistant
- –¢–ó RAG: docs/RAG_CORE_SPEC.md
- ChromaDB: https://docs.trychroma.com/
